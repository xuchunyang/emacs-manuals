<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.2.

Copyright Â© 1985-1987, 1993-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Diary Display (GNU Emacs Manual)</title>

<meta name="description" content="Diary Display (GNU Emacs Manual)">
<meta name="keywords" content="Diary Display (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" rel="up" title="Advanced Calendar/Diary Usage">
<link href="Fancy-Diary-Display.html#Fancy-Diary-Display" rel="next" title="Fancy Diary Display">
<link href="Non_002dGregorian-Diary.html#Non_002dGregorian-Diary" rel="prev" title="Non-Gregorian Diary">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<a name="Diary-Display"></a>
<div class="header">
<p>
Next: <a href="Fancy-Diary-Display.html#Fancy-Diary-Display" accesskey="n" rel="next">Fancy Diary Display</a>, Previous: <a href="Non_002dGregorian-Diary.html#Non_002dGregorian-Diary" accesskey="p" rel="prev">Non-Gregorian Diary</a>, Up: <a href="Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" accesskey="u" rel="up">Advanced Calendar/Diary Usage</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Diary-Display-1"></a>
<h4 class="subsection">31.15.8 Diary Display</h4>
<a name="index-diary_002ddisplay_002dfunction"></a>
<a name="index-diary_002dsimple_002ddisplay"></a>
<a name="index-diary_002dfancy_002ddisplay"></a>
<a name="index-diary-buffer"></a>

<p>Diary display works by preparing the list of diary entries and then
running the function specified by the variable
<code>diary-display-function</code>.  The default value
<code>diary-fancy-display</code> displays diary entries and holidays by
copying them into a special buffer that exists only for the sake of
display.  Copying diary entries to a separate buffer provides an
opportunity to change the displayed text to make it prettier&mdash;for
example, to sort the entries by the dates they apply to.
</p>
<a name="index-diary_002dlist_002dinclude_002dblanks"></a>
<p>Ordinarily, the fancy diary buffer does not show days for which there
are no diary entries, even if that day is a holiday.  If you want such
days to be shown in the fancy diary buffer, set the variable
<code>diary-list-include-blanks</code> to <code>t</code>.
</p>
<p>The fancy diary buffer enables View mode
(see <a href="View-Mode.html#View-Mode">View Mode</a>).
</p>
<p>The alternative display method <code>diary-simple-display</code> shows the
actual diary buffer, and uses invisible text to hide entries that don&rsquo;t
apply.  Holidays are shown in the mode line.  The advantage of this
method is that you can edit the buffer and save your changes directly to
the diary file.  This method is not as flexible as the fancy method,
however.  For example, it cannot sort entries.  Another disadvantage is
that invisible text can be confusing.  For example, if you copy a region
of text in order to paste it elsewhere, invisible text may be included.
Similarly, since the diary buffer as you see it is an illusion, simply
printing the buffer may not print what you see on your screen.
</p>
<a name="index-diary_002dprint_002dentries_002dhook"></a>
<a name="index-diary_002dprint_002dentries"></a>
<p>For this reason, there is a special command to print hard copy of the
diary buffer <em>as it appears</em>; this command is <kbd>M-x
diary-print-entries</kbd>.  It works with either display method, although
with the fancy display you can also print the buffer like any other.  To
print a hard copy of a day-by-day diary for a week, position point on
the first day of the week, type <kbd>7 d</kbd>, and then do <kbd>M-x
diary-print-entries</kbd>.  As usual, the inclusion of the holidays slows
down the display slightly; you can speed things up by setting the
variable <code>diary-show-holidays-flag</code> to <code>nil</code>.
</p>
<p>This command prepares a temporary buffer that contains only the diary
entries currently visible in the diary buffer.  Unlike with the simple
display, the other irrelevant entries are really absent, not just
hidden.  After preparing the buffer, it runs the hook
<code>diary-print-entries-hook</code>.  The default value of this hook sends
the data directly to the printer with the command <code>lpr-buffer</code>
(see <a href="Printing.html#Printing">Printing</a>).
If you want to use a different command to do the
printing, just change the value of this hook.  Other uses might include,
for example, rearranging the lines into order by day and time.
</p>
<p>You can edit the diary entries as they appear in the simple diary
window, but it is important to remember that the buffer displayed
contains the <em>entire</em> diary file, with portions of it concealed
from view.  This means, for instance, that the <kbd>C-f</kbd>
(<code>forward-char</code>) command can put point at what appears to be the
end of the line, but what is in reality the middle of some concealed
line.
</p>
<p><em>Be careful when editing the diary entries in the simple display!</em>
Inserting additional lines or adding/deleting characters in the middle
of a visible line cannot cause problems, but editing at the end of a
line may not do what you expect.  Deleting a line may delete other
invisible entries that follow it.  Before editing the simple diary
buffer, it is best to display the entire file with <kbd>s</kbd>
(<code>diary-show-all-entries</code>).
</p>
<hr>
<div class="header">
<p>
Next: <a href="Fancy-Diary-Display.html#Fancy-Diary-Display" accesskey="n" rel="next">Fancy Diary Display</a>, Previous: <a href="Non_002dGregorian-Diary.html#Non_002dGregorian-Diary" accesskey="p" rel="prev">Non-Gregorian Diary</a>, Up: <a href="Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" accesskey="u" rel="up">Advanced Calendar/Diary Usage</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
