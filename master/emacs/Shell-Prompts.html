<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 28.0.50.

Copyright Â© 1985-1987, 1993-2020 Free Software Foundation,
Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Shell Prompts (GNU Emacs Manual)</title>

<meta name="description" content="Shell Prompts (GNU Emacs Manual)">
<meta name="keywords" content="Shell Prompts (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Shell.html#Shell" rel="up" title="Shell">
<link href="Shell-History.html#Shell-History" rel="next" title="Shell History">
<link href="Shell-Mode.html#Shell-Mode" rel="prev" title="Shell Mode">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<a name="Shell-Prompts"></a>
<div class="header">
<p>
Next: <a href="Shell-History.html#Shell-History" accesskey="n" rel="next">Shell History</a>, Previous: <a href="Shell-Mode.html#Shell-Mode" accesskey="p" rel="prev">Shell Mode</a>, Up: <a href="Shell.html#Shell" accesskey="u" rel="up">Shell</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Shell-Prompts-1"></a>
<h3 class="section">38.4 Shell Prompts</h3>

<a name="index-prompt_002c-shell"></a>
<p>A prompt is text output by a program to show that it is ready to
accept new user input.  Normally, Comint mode (and thus Shell mode)
automatically figures out which part of the buffer is a prompt, based
on the output of the subprocess.  (Specifically, it assumes that any
received output line which doesn&rsquo;t end with a newline is a prompt.)
</p>
<p>Comint mode divides the buffer into two types of <em>fields</em>: input
fields (where user input is typed) and output fields (everywhere
else).  Prompts are part of the output fields.  Most Emacs motion
commands do not cross field boundaries, unless they move over multiple
lines.  For instance, when point is in the input field on a shell
command line, <kbd>C-a</kbd> puts point at the beginning of the input
field, after the prompt.  Internally, the fields are implemented using
the <code>field</code> text property (see <a href="http://www.gnu.org/software/emacs/manual/html_node/elisp/Text-Properties.html#Text-Properties">Text Properties</a> in <cite>the
Emacs Lisp Reference Manual</cite>).
</p>
<a name="index-comint_002duse_002dprompt_002dregexp"></a>
<a name="index-shell_002dprompt_002dpattern"></a>
<p>If you change the variable <code>comint-use-prompt-regexp</code> to a
non-<code>nil</code> value, then Comint mode will recognize prompts using a
regular expression (see <a href="Regexps.html#Regexps">Regexps</a>).  In Shell mode, the regular
expression is specified by the variable <code>shell-prompt-pattern</code>.
The default value of <code>comint-use-prompt-regexp</code> is <code>nil</code>,
because this method for recognizing prompts is unreliable, but you may
want to set it to a non-<code>nil</code> value in unusual circumstances.  In
that case, Emacs does not divide the Comint buffer into fields, so the
general motion commands behave as they normally do in buffers without
special text properties.  However, you can use the paragraph motion
commands to conveniently navigate the buffer (see <a href="Paragraphs.html#Paragraphs">Paragraphs</a>); in
Shell mode, Emacs uses <code>shell-prompt-pattern</code> as paragraph
boundaries.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Shell-History.html#Shell-History" accesskey="n" rel="next">Shell History</a>, Previous: <a href="Shell-Mode.html#Shell-Mode" accesskey="p" rel="prev">Shell Mode</a>, Up: <a href="Shell.html#Shell" accesskey="u" rel="up">Shell</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
