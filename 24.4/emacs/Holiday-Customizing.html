<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 24.4.

Copyright © 1985-1987, 1993-2014 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Holiday Customizing (GNU Emacs Manual)</title>

<meta name="description" content="Holiday Customizing (GNU Emacs Manual)">
<meta name="keywords" content="Holiday Customizing (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" rel="up" title="Advanced Calendar/Diary Usage">
<link href="Mayan-Calendar.html#Mayan-Calendar" rel="next" title="Mayan Calendar">
<link href="Calendar-Customizing.html#Calendar-Customizing" rel="prev" title="Calendar Customizing">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<a name="Holiday-Customizing"></a>
<div class="header">
<p>
Next: <a href="Mayan-Calendar.html#Mayan-Calendar" accesskey="n" rel="next">Mayan Calendar</a>, Previous: <a href="Calendar-Customizing.html#Calendar-Customizing" accesskey="p" rel="prev">Calendar Customizing</a>, Up: <a href="Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" accesskey="u" rel="up">Advanced Calendar/Diary Usage</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Customizing-the-Holidays"></a>
<h4 class="subsection">31.15.2 Customizing the Holidays</h4>

<a name="index-calendar_002dholidays"></a>
<a name="index-holiday_002doriental_002dholidays"></a>
<a name="index-holiday_002dsolar_002dholidays"></a>
<p>There are several variables listing the default holidays that Emacs
knows about.  These are: <code>holiday-general-holidays</code>,
<code>holiday-local-holidays</code>, <code>holiday-solar-holidays</code>,
<code>holiday-bahai-holidays</code>, <code>holiday-christian-holidays</code>,
<code>holiday-hebrew-holidays</code>, <code>holiday-islamic-holidays</code>,
<code>holiday-oriental-holidays</code>, and <code>holiday-other-holidays</code>.
The names should be self-explanatory; e.g., <code>holiday-solar-holidays</code>
lists sun- and moon-related holidays.
</p>
<p>You can customize these lists of holidays to your own needs, deleting or
adding holidays as described below.  Set any of them to <code>nil</code> to
not show the associated holidays.
</p>
<a name="index-holiday_002dgeneral_002dholidays"></a>
<a name="index-holiday_002dlocal_002dholidays"></a>
<a name="index-holiday_002dother_002dholidays"></a>
<p>The general holidays are, by default, holidays common throughout the
United States.  In contrast, <code>holiday-local-holidays</code> and
<code>holiday-other-holidays</code> are both empty by default.  These are
intended for system-wide settings and your individual use,
respectively.
</p>
<a name="index-holiday_002dbahai_002dholidays"></a>
<a name="index-holiday_002dchristian_002dholidays"></a>
<a name="index-holiday_002dhebrew_002dholidays"></a>
<a name="index-holiday_002dislamic_002dholidays"></a>
<a name="index-calendar_002dbahai_002dall_002dholidays_002dflag"></a>
<a name="index-calendar_002dchristian_002dall_002dholidays_002dflag"></a>
<a name="index-calendar_002dhebrew_002dall_002dholidays_002dflag"></a>
<a name="index-calendar_002dislamic_002dall_002dholidays_002dflag"></a>
<p>By default, Emacs does not include all the holidays of the religions
that it knows, only those commonly found in secular calendars.  For a
more extensive collection of religious holidays, you can set any (or
all) of the variables <code>calendar-bahai-all-holidays-flag</code>,
<code>calendar-christian-all-holidays-flag</code>,
<code>calendar-hebrew-all-holidays-flag</code>, or
<code>calendar-islamic-all-holidays-flag</code> to <code>t</code>.
</p>
<a name="index-holiday-forms"></a>
<p>Each of the holiday variables is a list of <em>holiday forms</em>, each
form describing a holiday (or sometimes a list of holidays).  Here is
a table of the possible kinds of holiday form.  Day numbers and month
numbers count starting from 1, but &ldquo;dayname&rdquo; numbers count Sunday as
0.  The argument <var>string</var> is always the description of the
holiday, as a string.
</p>
<dl compact="compact">
<dt><code>(holiday-fixed <var>month</var> <var>day</var> <var>string</var>)</code></dt>
<dd><p>A fixed date on the Gregorian calendar.
</p>
</dd>
<dt><code>(holiday-float <var>month</var> <var>dayname</var> <var>k</var> <var>string</var></code></dt>
<dd><p>&amp;optional <var>day</var>)
The <var>k</var>th <var>dayname</var> (<var>dayname</var>=0 for Sunday, and so on)
after or before Gregorian date <var>month</var>, <var>day</var>.  Negative <var>k</var>
means count back from the end of the month.  Optional <var>day</var> defaults
to 1 if <var>k</var> is positive, and the last day of <var>month</var> otherwise.
</p>
</dd>
<dt><code>(holiday-chinese <var>month</var> <var>day</var> <var>string</var>)</code></dt>
<dd><p>A fixed date on the Chinese calendar.
</p>
</dd>
<dt><code>(holiday-hebrew <var>month</var> <var>day</var> <var>string</var>)</code></dt>
<dd><p>A fixed date on the Hebrew calendar.
</p>
</dd>
<dt><code>(holiday-islamic <var>month</var> <var>day</var> <var>string</var>)</code></dt>
<dd><p>A fixed date on the Islamic calendar.
</p>
</dd>
<dt><code>(holiday-julian <var>month</var> <var>day</var> <var>string</var>)</code></dt>
<dd><p>A fixed date on the Julian calendar.
</p>
</dd>
<dt><code>(holiday-sexp <var>sexp</var> <var>string</var>)</code></dt>
<dd><p>A date calculated by the Lisp expression <var>sexp</var>.  The expression
should use the variable <code>year</code> to compute and return the date of a
holiday in the form of a list <code>(<var>month</var> <var>day</var> <var>year</var>)</code>,
or <code>nil</code> if the holiday doesn&rsquo;t happen this year.
</p>
</dd>
<dt><code>(if <var>condition</var> <var>holiday-form</var>)</code></dt>
<dd><p>A holiday that happens only if <var>condition</var> is true.
</p>
</dd>
<dt><code>(<var>function</var> <span class="roman">[</span><var>args</var><span class="roman">]</span>)</code></dt>
<dd><p>A list of dates calculated by the function <var>function</var>, called with
arguments <var>args</var>.
</p></dd>
</dl>

<p>For example, suppose you want to add Bastille Day, celebrated in
France on July 14 (i.e., the fourteenth day of the seventh month).  You
can do this as follows:
</p>
<div class="smallexample">
<pre class="smallexample">(setq holiday-other-holidays '((holiday-fixed 7 14 &quot;Bastille Day&quot;)))
</pre></div>

<p>Many holidays occur on a specific day of the week, at a specific time
of month.  Here is a holiday form describing Hurricane Supplication Day,
celebrated in the Virgin Islands on the fourth Monday in August:
</p>
<div class="smallexample">
<pre class="smallexample">(holiday-float 8 1 4 &quot;Hurricane Supplication Day&quot;)
</pre></div>

<p>Here the 8 specifies August, the 1 specifies Monday (Sunday is 0,
Tuesday is 2, and so on), and the 4 specifies the fourth occurrence in
the month (1 specifies the first occurrence, 2 the second occurrence,
−1 the last occurrence, −2 the second-to-last occurrence, and
so on).
</p>
<p>You can specify holidays that occur on fixed days of the Bahá&rsquo;í,
Chinese, Hebrew, Islamic, and Julian calendars too.  For example,
</p>
<div class="smallexample">
<pre class="smallexample">(setq holiday-other-holidays
      '((holiday-hebrew 10 2 &quot;Last day of Hanukkah&quot;)
        (holiday-islamic 3 12 &quot;Mohammed's Birthday&quot;)
        (holiday-julian 4 2 &quot;Jefferson's Birthday&quot;)))
</pre></div>

<p>adds the last day of Hanukkah (since the Hebrew months are numbered with
1 starting from Nisan), the Islamic feast celebrating Mohammed&rsquo;s
birthday (since the Islamic months are numbered from 1 starting with
Muharram), and Thomas Jefferson&rsquo;s birthday, which is 2 April 1743 on the
Julian calendar.
</p>
<p>To include a holiday conditionally, use either Emacs Lisp&rsquo;s <code>if</code>
or the <code>holiday-sexp</code> form.  For example, American presidential
elections occur on the first Tuesday after the first Monday in November
of years divisible by 4:
</p>
<div class="smallexample">
<pre class="smallexample">(holiday-sexp '(if (zerop (% year 4))
                   (calendar-gregorian-from-absolute
                    (1+ (calendar-dayname-on-or-before
                          1 (+ 6 (calendar-absolute-from-gregorian
                                  (list 11 1 year)))))))
              &quot;US Presidential Election&quot;)
</pre></div>

<p>or
</p>
<div class="smallexample">
<pre class="smallexample">(if (zerop (% displayed-year 4))
    (holiday-fixed 11
           (calendar-extract-day
             (calendar-gregorian-from-absolute
               (1+ (calendar-dayname-on-or-before
                     1 (+ 6 (calendar-absolute-from-gregorian
                              (list 11 1 displayed-year)))))))
           &quot;US Presidential Election&quot;))
</pre></div>

<p>Some holidays just don&rsquo;t fit into any of these forms because special
calculations are involved in their determination.  In such cases you
must write a Lisp function to do the calculation.  To include eclipses,
for example, add <code>(eclipses)</code> to <code>holiday-other-holidays</code>
and write an Emacs Lisp function <code>eclipses</code> that returns a
(possibly empty) list of the relevant Gregorian dates among the range
visible in the calendar window, with descriptive strings, like this:
</p>
<div class="smallexample">
<pre class="smallexample">(((6 4 2012) &quot;Lunar Eclipse&quot;) ((11 13 2012) &quot;Solar Eclipse&quot;) ... )
</pre></div>

<hr>
<div class="header">
<p>
Next: <a href="Mayan-Calendar.html#Mayan-Calendar" accesskey="n" rel="next">Mayan Calendar</a>, Previous: <a href="Calendar-Customizing.html#Calendar-Customizing" accesskey="p" rel="prev">Calendar Customizing</a>, Up: <a href="Advanced-Calendar_002fDiary-Usage.html#Advanced-Calendar_002fDiary-Usage" accesskey="u" rel="up">Advanced Calendar/Diary Usage</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
