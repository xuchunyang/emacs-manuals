<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.3.

Copyright Â© 1985-1987, 1993-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Package Installation (GNU Emacs Manual)</title>

<meta name="description" content="Package Installation (GNU Emacs Manual)">
<meta name="keywords" content="Package Installation (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Packages.html#Packages" rel="up" title="Packages">
<link href="Package-Files.html#Package-Files" rel="next" title="Package Files">
<link href="Package-Menu.html#Package-Menu" rel="prev" title="Package Menu">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<a name="Package-Installation"></a>
<div class="header">
<p>
Next: <a href="Package-Files.html#Package-Files" accesskey="n" rel="next">Package Files</a>, Previous: <a href="Package-Menu.html#Package-Menu" accesskey="p" rel="prev">Package Menu</a>, Up: <a href="Packages.html#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Package-Installation-1"></a>
<h3 class="section">50.2 Package Installation</h3>

<a name="index-package_002dinstall"></a>
<p>Packages are most conveniently installed using the package menu
(see <a href="Package-Menu.html#Package-Menu">Package Menu</a>), but you can also use the command <kbd>M-x
package-install</kbd>.  This prompts for the name of a package with the
&lsquo;<samp>available</samp>&rsquo; status, then downloads and installs it.
</p>
<a name="index-package-requirements"></a>
<p>A package may <em>require</em> certain other packages to be installed,
because it relies on functionality provided by them.  When Emacs
installs such a package, it also automatically downloads and installs
any required package that is not already installed.  (If a required
package is somehow unavailable, Emacs signals an error and stops
installation.)  A package&rsquo;s requirements list is shown in its help
buffer.
</p>
<a name="index-package_002darchives"></a>
<p>By default, packages are downloaded from a single package archive
maintained by the Emacs developers.  This is controlled by the
variable <code>package-archives</code>, whose value is a list of package
archives known to Emacs.  Each list element must have the form
<code>(<var>id</var> . <var>location</var>)</code>, where <var>id</var> is the name of a
package archive and <var>location</var> is the <acronym>HTTP</acronym> address or
directory name of the package archive.  You can alter this list if you
wish to use third party package archives&mdash;but do so at your own risk,
and use only third parties that you think you can trust!
</p>
<a name="Package-Signing"></a><a name="index-package-security"></a>
<a name="index-package-signing"></a>
<p>The maintainers of package archives can increase the trust that you
can have in their packages by <em>signing</em> them.  They generate a
private/public pair of cryptographic keys, and use the private key to
create a <em>signature file</em> for each package.  With the public key, you
can use the signature files to verify who created the package, and
that it has not been modified.  A valid signature is not a cast-iron
guarantee that a package is not malicious, so you should still
exercise caution.  Package archives should provide instructions
on how you can obtain their public key.  One way is to download the
key from a server such as <a href="http://pgp.mit.edu/">http://pgp.mit.edu/</a>.
Use <kbd>M-x package-import-keyring</kbd> to import the key into Emacs.
Emacs stores package keys in the <samp>gnupg</samp> subdirectory
of <code>package-user-dir</code>.
The public key for the GNU package archive is distributed with Emacs,
in the <samp>etc/package-keyring.gpg</samp>.  Emacs uses it automatically.
</p>
<a name="index-package_002dcheck_002dsignature"></a>
<a name="index-package_002dunsigned_002darchives"></a>
<p>If the user option <code>package-check-signature</code> is non-<code>nil</code>,
Emacs attempts to verify signatures when you install packages.  If the
option has the value <code>allow-unsigned</code>, you can still install a
package that is not signed.  If you use some archives that do not sign
their packages, you can add them to the list <code>package-unsigned-archives</code>.
</p>
<p>For more information on cryptographic keys and signing,
see <a href="http://www.gnupg.org/documentation/manuals/gnupg/index.html#Top">Top</a> in <cite>The GNU Privacy Guard Manual</cite>.
Emacs comes with an interface to GNU Privacy Guard,
see <a href="http://www.gnu.org/software/emacs/manual/html_node/epa/index.html#Top">EasyPG</a> in <cite>Emacs EasyPG Assistant Manual</cite>.
</p>
<a name="index-package_002dpinned_002dpackages"></a>
<p>If you have more than one package archive enabled, and some of them
offer different versions of the same package, you may find the option
<code>package-pinned-packages</code> useful.  You can add package/archive
pairs to this list, to ensure that the specified package is only ever
downloaded from the specified archive.
</p>
<a name="index-package_002darchive_002dpriorities"></a>
<a name="index-package_002dmenu_002dhide_002dlow_002dpriority"></a>
<p>Another option that is useful when you have several package archives
enabled is <code>package-archive-priorities</code>.  It specifies the
priority of each archive (higher numbers specify higher priority
archives).  By default, archives have the priority of zero, unless
specified otherwise by this option&rsquo;s value.  Packages from
lower-priority archives will not be shown in the menu, if the same
package is available from a higher-priority archive.  (This is
controlled by the value of <code>package-menu-hide-low-priority</code>.)
</p>
<p>Once a package is downloaded and installed, it is <em>loaded</em> into
the current Emacs session.  Loading a package is not quite the same as
loading a Lisp library (see <a href="Lisp-Libraries.html#Lisp-Libraries">Lisp Libraries</a>); loading a package
adds its directory to <code>load-path</code> and loads its autoloads.  The
effect of a package&rsquo;s autoloads varies from package to package.  Most
packages just make some new commands available, while others have more
wide-ranging effects on the Emacs session.  For such information,
consult the package&rsquo;s help buffer.
</p>
<p>By default, Emacs also automatically loads all installed packages in
subsequent Emacs sessions.  This happens at startup, after processing
the init file (see <a href="Init-File.html#Init-File">Init File</a>).  As an exception, Emacs does not
load packages at startup if invoked with the &lsquo;<samp>-q</samp>&rsquo; or
&lsquo;<samp>--no-init-file</samp>&rsquo; options (see <a href="Initial-Options.html#Initial-Options">Initial Options</a>).
</p>
<a name="index-package_002denable_002dat_002dstartup"></a>
<p>To disable automatic package loading, change the variable
<code>package-enable-at-startup</code> to <code>nil</code>.
</p>
<a name="index-package_002dinitialize"></a>
<p>The reason automatic package loading occurs after loading the init
file is that user options only receive their customized values after
loading the init file, including user options which affect the
packaging system.  In some circumstances, you may want to load
packages explicitly in your init file (usually because some other code
in your init file depends on a package).  In that case, your init file
should call the function <code>package-initialize</code>.  It is up to you
to ensure that relevant user options, such as <code>package-load-list</code>
(see below), are set up prior to the <code>package-initialize</code> call.
This will automatically set <code>package-enable-at-startup</code> to <code>nil</code>, to
avoid loading the packages again after processing the init file.
Alternatively, you may choose to completely inhibit package loading at
startup, and invoke the command <kbd>M-x package-initialize</kbd> to load
your packages manually.
</p>
<a name="index-package_002dload_002dlist"></a>
<p>For finer control over package loading, you can use the variable
<code>package-load-list</code>.  Its value should be a list.  A list element
of the form <code>(<var>name</var> <var>version</var>)</code> tells Emacs to load
version <var>version</var> of the package named <var>name</var>.  Here,
<var>version</var> should be a version string (corresponding to a specific
version of the package), or <code>t</code> (which means to load any
installed version), or <code>nil</code> (which means no version; this
disables the package, preventing it from being loaded).  A list
element can also be the symbol <code>all</code>, which means to load the
latest installed version of any package not named by the other list
elements.  The default value is just <code>'(all)</code>.
</p>
<p>For example, if you set <code>package-load-list</code> to <code>'((muse
&quot;3.20&quot;) all)</code>, then Emacs only loads version 3.20 of the &lsquo;<samp>muse</samp>&rsquo;
package, plus any installed version of packages other than
&lsquo;<samp>muse</samp>&rsquo;.  Any other version of &lsquo;<samp>muse</samp>&rsquo; that happens to be
installed will be ignored.  The &lsquo;<samp>muse</samp>&rsquo; package will be listed in
the package menu with the &lsquo;<samp>held</samp>&rsquo; status.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Package-Files.html#Package-Files" accesskey="n" rel="next">Package Files</a>, Previous: <a href="Package-Menu.html#Package-Menu" accesskey="p" rel="prev">Package Menu</a>, Up: <a href="Packages.html#Packages" accesskey="u" rel="up">Packages</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
