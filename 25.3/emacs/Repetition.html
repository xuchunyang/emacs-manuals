<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.3.

Copyright Â© 1985-1987, 1993-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>Repetition (GNU Emacs Manual)</title>

<meta name="description" content="Repetition (GNU Emacs Manual)">
<meta name="keywords" content="Repetition (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Minibuffer.html#Minibuffer" rel="up" title="Minibuffer">
<link href="Passwords.html#Passwords" rel="next" title="Passwords">
<link href="Minibuffer-History.html#Minibuffer-History" rel="prev" title="Minibuffer History">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<a name="Repetition"></a>
<div class="header">
<p>
Next: <a href="Passwords.html#Passwords" accesskey="n" rel="next">Passwords</a>, Previous: <a href="Minibuffer-History.html#Minibuffer-History" accesskey="p" rel="prev">Minibuffer History</a>, Up: <a href="Minibuffer.html#Minibuffer" accesskey="u" rel="up">Minibuffer</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="Repeating-Minibuffer-Commands"></a>
<h3 class="section">8.6 Repeating Minibuffer Commands</h3>
<a name="index-command-history"></a>
<a name="index-history-of-commands"></a>

<p>Every command that uses the minibuffer once is recorded on a special
history list, the <em>command history</em>, together with the values of
its arguments, so that you can repeat the entire command.  In
particular, every use of <kbd>M-x</kbd> is recorded there, since <kbd>M-x</kbd>
uses the minibuffer to read the command name.
</p>
<a name="index-list_002dcommand_002dhistory"></a>
<dl compact="compact">
<dt><kbd>C-x <span class="key">ESC</span> <span class="key">ESC</span></kbd></dt>
<dd><p>Re-execute a recent minibuffer command from the command history
 (<code>repeat-complex-command</code>).
</p></dd>
<dt><kbd>M-x list-command-history</kbd></dt>
<dd><p>Display the entire command history, showing all the commands
<kbd>C-x <span class="key">ESC</span> <span class="key">ESC</span></kbd> can repeat, most recent first.
</p></dd>
</dl>

<a name="index-C_002dx-ESC-ESC"></a>
<a name="index-repeat_002dcomplex_002dcommand"></a>
<p><kbd>C-x <span class="key">ESC</span> <span class="key">ESC</span></kbd> re-executes a recent command that used
the minibuffer.  With no argument, it repeats the last such command.
A numeric argument specifies which command to repeat; 1 means the last
one, 2 the previous, and so on.
</p>
<p><kbd>C-x <span class="key">ESC</span> <span class="key">ESC</span></kbd> works by turning the previous command
into a Lisp expression and then entering a minibuffer initialized with
the text for that expression.  Even if you don&rsquo;t know Lisp, it will
probably be obvious which command is displayed for repetition.  If you
type just <tt class="key">RET</tt>, that repeats the command unchanged.  You can also
change the command by editing the Lisp expression before you execute
it.  The executed command is added to the front of the command history
unless it is identical to the most recent item.
</p>
<p>Once inside the minibuffer for <kbd>C-x <span class="key">ESC</span> <span class="key">ESC</span></kbd>, you
can use the usual minibuffer history commands (see <a href="Minibuffer-History.html#Minibuffer-History">Minibuffer History</a>) to move through the history list.  After finding the desired
previous command, you can edit its expression as usual and then execute
it by typing <tt class="key">RET</tt>.
</p>
<a name="index-isearch_002dresume_002din_002dcommand_002dhistory"></a>
<p>Incremental search does not, strictly speaking, use the minibuffer.
Therefore, although it behaves like a complex command, it normally
does not appear in the history list for <kbd>C-x <span class="key">ESC</span> <span class="key">ESC</span></kbd>.
You can make incremental search commands appear in the history by
setting <code>isearch-resume-in-command-history</code> to a non-<code>nil</code>
value.  See <a href="Incremental-Search.html#Incremental-Search">Incremental Search</a>.
</p>
<a name="index-command_002dhistory"></a>
<p>The list of previous minibuffer-using commands is stored as a Lisp
list in the variable <code>command-history</code>.  Each element is a Lisp
expression that describes one command and its arguments.  Lisp programs
can re-execute a command by calling <code>eval</code> with the
<code>command-history</code> element.
</p>
<hr>
<div class="header">
<p>
Next: <a href="Passwords.html#Passwords" accesskey="n" rel="next">Passwords</a>, Previous: <a href="Minibuffer-History.html#Minibuffer-History" accesskey="p" rel="prev">Minibuffer History</a>, Up: <a href="Minibuffer.html#Minibuffer" accesskey="u" rel="up">Minibuffer</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>



</body>
</html>
