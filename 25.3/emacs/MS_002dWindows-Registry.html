<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<!-- This is the GNU Emacs Manual,
updated for Emacs version 25.3.

Copyright Â© 1985-1987, 1993-2017 Free Software Foundation, Inc.

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3 or
any later version published by the Free Software Foundation; with the
Invariant Sections being "The GNU Manifesto," "Distribution" and
"GNU GENERAL PUBLIC LICENSE," with the Front-Cover Texts being "A GNU
Manual," and with the Back-Cover Texts as in (a) below.  A copy of the
license is included in the section entitled "GNU Free Documentation
License."

(a) The FSF's Back-Cover Text is: "You have the freedom to copy and
modify this GNU manual.  Buying copies from the FSF supports it in
developing GNU and promoting software freedom." -->
<!-- Created by GNU Texinfo 6.5, http://www.gnu.org/software/texinfo/ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>MS-Windows Registry (GNU Emacs Manual)</title>

<meta name="description" content="MS-Windows Registry (GNU Emacs Manual)">
<meta name="keywords" content="MS-Windows Registry (GNU Emacs Manual)">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="makeinfo">
<link href="index.html#Top" rel="start" title="Top">
<link href="Key-Index.html#Key-Index" rel="index" title="Key Index">
<link href="index.html#SEC_Contents" rel="contents" title="Table of Contents">
<link href="Environment.html#Environment" rel="up" title="Environment">
<link href="Display-X.html#Display-X" rel="next" title="Display X">
<link href="Misc-Variables.html#Misc-Variables" rel="prev" title="Misc Variables">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.indentedblock {margin-right: 0em}
blockquote.smallindentedblock {margin-right: 0em; font-size: smaller}
blockquote.smallquotation {font-size: smaller}
div.display {margin-left: 3.2em}
div.example {margin-left: 3.2em}
div.lisp {margin-left: 3.2em}
div.smalldisplay {margin-left: 3.2em}
div.smallexample {margin-left: 3.2em}
div.smalllisp {margin-left: 3.2em}
kbd {font-style: oblique}
pre.display {font-family: inherit}
pre.format {font-family: inherit}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: inherit; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: inherit; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.nolinebreak {white-space: nowrap}
span.roman {font-family: initial; font-weight: normal}
span.sansserif {font-family: sans-serif; font-weight: normal}
ul.no-bullet {list-style: none}
-->
</style>
<link rel="stylesheet" type="text/css" href="./manual.css">


</head>

<body lang="en">
<a name="MS_002dWindows-Registry"></a>
<div class="header">
<p>
Previous: <a href="Misc-Variables.html#Misc-Variables" accesskey="p" rel="prev">Misc Variables</a>, Up: <a href="Environment.html#Environment" accesskey="u" rel="up">Environment</a> &nbsp; [<a href="index.html#SEC_Contents" title="Table of contents" rel="contents">Contents</a>][<a href="Key-Index.html#Key-Index" title="Index" rel="index">Index</a>]</p>
</div>
<hr>
<a name="The-MS_002dWindows-System-Registry"></a>
<h4 class="appendixsubsec">C.4.3 The MS-Windows System Registry</h4>
<a name="index-addpm_002c-MS_002dWindows-installation-program"></a>
<a name="index-registry_002c-setting-environment-variables-_0028MS_002dWindows_0029"></a>

<p>On MS-Windows, the installation program <code>addpm.exe</code> adds
values for <code>emacs_dir</code>, <code>EMACSLOADPATH</code>, <code>EMACSDATA</code>,
<code>EMACSPATH</code>, <code>EMACSDOC</code>, <code>SHELL</code> and <code>TERM</code> to the
<samp>HKEY_LOCAL_MACHINE</samp> section of the system registry, under
<samp>/Software/GNU/Emacs</samp>.  It does this because there is no standard
place to set environment variables across different versions of
Windows.  Running <code>addpm.exe</code> is no longer strictly necessary
in recent versions of Emacs, but if you are upgrading from an older
version, running <code>addpm.exe</code> ensures that you do not have
older registry entries from a previous installation, which may not be
compatible with the latest version of Emacs.
</p>
<p>When Emacs starts, as well as checking the environment, it also checks
the System Registry for those variables and for <code>HOME</code>, <code>LANG</code>
and <code>PRELOAD_WINSOCK</code>.
</p>
<p>To determine the value of those variables, Emacs goes through the
following procedure.  First, the environment is checked.  If the
variable is not found there, Emacs looks for registry keys by that
name under <samp>/Software/GNU/Emacs</samp>; first in the
<samp>HKEY_CURRENT_USER</samp> section of the registry, and if not found
there, in the <samp>HKEY_LOCAL_MACHINE</samp> section.  Finally, if Emacs
still cannot determine the values, compiled-in defaults are used.
</p>
<p>In addition to the environment variables above, you can also add many
of the settings which on X belong in the <samp>.Xdefaults</samp> file
(see <a href="X-Resources.html#X-Resources">X Resources</a>) to the <samp>/Software/GNU/Emacs</samp> registry key.
</p>



</body>
</html>
